# 5월 12일 과제 조사 내용 (by. 01분반 20223157 장준하)

## Linux 명령어

이 과제에선 쉘 내에서 실행 중인 프로세스들을 관리하는데 유용한 **top, ps, jobs, kill 명령어**에 대해 조사하였다.

|명령어|설명|
|---|---|
|**top<br>ps<br>jobs**|실행 중인 프로세스 목록 조회|
|**kill**|실행 중인 프로세스 종료|

---

### 1. top

![top 사용법](/images/linux/top.gif?raw=true)

현재 리눅스 시스템의 상태 및 현재 실행 중인 프로세스 목록을 보여주는 명령어이다.
종료될 때까지 지속해서 새로고침 되며, 실행 중 커맨드를 사용할 수 있다.

#### 사용법

`top -b -d secs -n max`

+ **-b** : batch 모드로 실행
+ **-d secs** : 새로고침 주기 (초)
+ **-n max** : 새로고침 횟수

명령어를 실행한 뒤 `q`를 눌러 *top* 명령어를 중지하고 `k` 명령어로 실행 중인 프로그램을 종료할 수 있다.

---

### 2. ps

![ps 사용법](/images/linux/ps.gif?raw=true)

현재 실행 중인 프로세스 목록을 보여주는 명령어이다.

#### 사용법

`ps -efl`

+ **-e** : 모든 프로세스 표시
+ **-f, -l** : 프로세스 추가정보 표시 (실행한 유저, ppid, etc.)---### 3. jobs

![jobs 사용법](/images/linux/jobs.gif?raw=true)

현재 쉘 안에서 실행 중인 프로세스 목록을 보여주는 명령어이다.
*kill* 또는 *fg* 명령어에서 사용할 수 있는 job number를 제공한다.

#### 사용법

`jobs -lrs`

+ **-l** : Process ID 표시
+ **-r** : 실행 중인 프로세스만 표시
+ **-s** : 정지된 프로세스만 표시

---

### 4. kill

![kill 사용법](/images/linux/kill.gif?raw=true)

실행 중인 프로세스에 종료 신호를 보내는 명령어이다.

#### 사용법

`kill -sigspec %jobnumber`

+ -**sigspec** : - 뒤에 종료 신호 입력 (아래 설명 참조)
+ %**jobnumber** : *jobs* 명령어로 구할 수 있는 job number 입력

#### 종료 신호

+ **6** (SIGKILL) : 강제 종료, 종료되는 프로세스가 이를 취소할 수 없다.
+ **15** (SIGTERM) : 종료 요청, 종료되는 프로세스가 이를 받고 취소하거나 종료 준비를 할 수 있다.

## vim 에디터 속 매크로 기능

[**매크로**](https://ko.wikipedia.org/wiki/%EB%A7%A4%ED%81%AC%EB%A1%9C_(%EC%BB%B4%ED%93%A8%ED%84%B0_%EA%B3%BC%ED%95%99) "관련 위키피디아 링크")란 여러 입력이 어떤 여러 출력으로 변환돼야 하는지 알려주는 규칙이다. 주로 여러 입력을 짧게 단축하기 위해 사용된다.
프로그래머는 이 기능을 이용해 반복적이고 번거로운 편집 작업을 더 쉽고 안정성 있게 수행할 수 있다.

여러 텍스트 에디터에서 매크로를 지원하는데, vim 에디터에서도 이 기능을 사용할 수 있다.

---

### 1. 매크로 녹화법

컴퓨터와 휴대폰 속 클립보드 같이 vim에서도 복사한 글이나 명령어를 보관하는 **레지스터**라는 공간이 있다.
vim에서 매크로를 사용하려면 먼저 매크로를 이 레지스터에 녹화해야 한다.
**`q` 명령어를 이용해 녹화할 수 있다.**

1) `q<레지스터 이름>`를 입력해 녹화를 시작한다. 주로 레지스터 이름은 소문자 한개이다.
2) 녹화할 커맨드를 입력한다.
3) 다시 `q`를 눌러 녹화를 중지한다.

#### 예시

![vim 매크로 녹화](/images/vim/recording.gif?raw=true)

`qaiabcq`

+ `qa` : 'a' 레지스터에 녹화 시작.
+ `iabc` : *입력모드에서 `abc` 입력 후 입력모드 퇴장.* (녹화되는 커맨드)
+ `q` : 녹화 중지

---

### 2. 매크로 사용법

녹화한 매크로를 사용하려면 **`@(Shift + 2)`키**를 이용하면 된다.

1) 녹화된 매크로를 사용할 곳에 커서를 놓는다.
2) `@<레지스터 이름>`을 명령모드에서 입력한다.
3) 레지스터에 녹화된 작업이 실행된다.

#### 예시

![vim 매크로 사용](/images/vim/using.gif?raw=true)

`@a`

+ `@a` : 'a' 레지스터 속의 매크로 실행.

이 예시를 '2. 매크로 녹화법' 속의 예시 후에 실행하면 커서 위치에 `abc`가 입력될것이다.

---

### 3. `.` 명령어

![온점 명령어 사용 예시](/images/vim/period.gif?raw=true)

매크로와 함께 알아두면 좋은 비슷한 역할의 명령어로 **`.`(온점) 명령어**가 있다.

명령 모드에서 명령을 수행한 뒤 `.`을 누르면 그 명령을 다시 실행한다.

예시로, 입력모드에서 `hello`를 입력한 뒤 퇴장하면 `.`를 누를 때마다 커서 위치에 `hello`가 입력된다.
